<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SPA History Change Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- GTM Container -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MB72WSHR');
  </script>
  <!-- End GTM -->

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      text-align: center;
    }

    header {
      background-color: green;
      color: black;
      font-weight: bold;
      font-size: 35px;
      text-align: center;
      padding: 20px 0;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
    }

    main {
      padding-top: 100px;
    }

    .spa-button {
      background-color: orange;
      color: blue;
      font-weight: bold;
      padding: 15px 30px;
      margin: 10px;
      font-size: 16px;
      border: 5px solid darkgreen;
      border-radius: 6px;
      cursor: pointer;
    }

    .spa-button:hover {
      background-color: blue;
      color: orange;
    }

    .content {
      margin-top: 20px;
      font-size: 20px;
    }

      .left-shifted-section {
    text-align: left;
    padding-left: 40px; /* ← এখানেই মূল কাজ, চাইলে 20px/50px করতে পারো */
  }

  </style>
</head>
<body>
  <header>SPA History Change Demo</header>
  <main>

<section class="left-shifted-section">
  <h2>What is a "History Change Event"?</h2>
  <p>
    A <strong>History Change Event</strong> occurs when the browser's URL is changed using JavaScript without reloading the page. This is common in Single Page Applications (SPAs), where internal navigation happens dynamically using methods like <code>history.pushState()</code> or <code>history.replaceState()</code>.
  </p>
  <p>
    These changes don’t cause full page reloads, so traditional pageview tracking won't detect them. Tools like Google Tag Manager use a <strong>History Change Trigger</strong> to listen for these events and fire tags accordingly, such as virtual page views in GA4.
  </p>
  <p><strong>Example:</strong> When you click the button below, the URL will change (simulating navigation), but the page won't reload.</p>
</section>

    <br>
    <br>
    <br>
    <br>
    <br>
    <button class="spa-button" onclick="navigateTo('home')">Home</button>
    <button class="spa-button" onclick="navigateTo('about')">About</button>
    <button class="spa-button" onclick="navigateTo('contact')">Contact</button>

    <div class="content" id="content-area">Welcome to the Home page!</div>
  </main>

  <script>
    function navigateTo(page) {
      let content = '';
      if (page === 'home') content = 'Welcome to the Home page!';
      else if (page === 'about') content = 'This is the About section.';
      else if (page === 'contact') content = 'Feel free to Contact us.';

      document.getElementById('content-area').innerText = content;

      // Update the URL without reloading
      history.pushState({ page: page }, '', '/' + page);
    }

    // Handle back/forward button
    window.addEventListener('popstate', function(event) {
      let page = location.pathname.replace('/', '');
      if (page === '') page = 'home';
      navigateTo(page);
    });
  </script>

  <!-- GTM NoScript (for fallback) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MB72WSHR"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
</body>
</html>
