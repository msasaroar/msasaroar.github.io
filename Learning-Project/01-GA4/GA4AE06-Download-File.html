<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Track File Downloads with GTM</title>

  <!-- Google Tag Manager -->
  <script>
      (function(w, d, s, l, i) {
          w[l] = w[l] || [];
          w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
          var f = d.getElementsByTagName(s)[0],
              j = d.createElement(s),
              dl = l != 'dataLayer' ? '&l=' + l : '';
          j.async = true;
          j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
          f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-WVTKMJG2');
  </script>

  <style>
    a.download-link {
      display: inline-block;
      margin: 10px auto;
      padding: 15px 40px;
      background-color: orange;
      color: blue;
      text-decoration: none;
      border-radius: 6px;
      font-weight: bold;
      font-size: 18px;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    a.download-link:hover {
      background-color: blue;
      color: orange;
    }
  </style>
  <link rel="stylesheet" href="GA4-global-style.css">

</head>
<body>

  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WVTKMJG2"
    height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

  <header>
    <button class="home-button" onclick="location.href='index.html'">Home</button>
    Track File Downloads with GTM
  </header>

  <main>
    <br>
    <br>
    <br>
    <h1>File Download Event Demo</h1>
    <a href="sample.pdf" class="download-link" download>Download PDF</a>
    <a href="sample.docx" class="download-link" download>Download DOCX</a>
    <a href="sample.xlsx" class="download-link" download>Download XLSX</a>
    <a href="sample.zip" class="download-link" download>Download ZIP</a>
    <a href="Sample.jpg" class="download-link" download>Download JPG</a>
    <a href="sample.mp4" class="download-link" download>Download MP4</a>
  </main>

  <script>
    // Track file downloads via dataLayer push
    document.querySelectorAll('a.download-link').forEach(link => {
      link.addEventListener('click', event => {
        const fileUrl = event.currentTarget.getAttribute('href');
        const fileName = fileUrl.split('/').pop();
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          event: 'file_download',
          file_name: fileName,
          file_url: fileUrl
        });
        // Optionally, console log for debugging
        console.log('File download event pushed:', fileName);
      });
    });
  </script>
  <script src="main.js"></script>
</body>
</html>
