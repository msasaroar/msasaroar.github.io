<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us - Lead Conversion</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_MEASUREMENT_ID"></script>
  <script>
    // GA4 configuration
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'YOUR_MEASUREMENT_ID');

    // Function to send close_convert_lead event to GA4
    function trackLeadConversion(event) {
      event.preventDefault(); // Prevent form submission for demonstration
      const form = document.getElementById('contactForm');
      const name = form.elements['name'].value;
      const email = form.elements['email'].value;
      const phone = form.elements['phone'].value;
      const message = form.elements['message'].value;

      // Optional: Validate input before sending data
      if (!name || !email || !message) {
        alert('Please fill out all required fields.');
        return;
      }

      // Send close_convert_lead event to GA4
      gtag('event', 'close_convert_lead', {
        value: 100, // Example value for the lead
        currency: 'USD',
        lead_type: 'contact_form',
        method: 'form_submit',
        user_name: name, // Custom parameter for the user's name
        user_email: email, // Custom parameter for the user's email
        user_phone: phone || 'N/A', // Optional phone number
        message_length: message.length // Length of the message
      });

      // Show a confirmation message
      alert(`Thank you, ${name}. Your inquiry has been submitted.`);
      
      // Optional: Submit the form programmatically (e.g., AJAX)
      // For this demo, form submission is skipped.
    }
  </script>
</head>
<body>
  <header>
    <h1>Contact Us</h1>
    <p>We'd love to hear from you! Fill out the form below to get in touch.</p>
  </header>

  <main>
    <form id="contactForm" onsubmit="trackLeadConversion(event)">
      <label for="name">Name (required):</label><br>
      <input type="text" id="name" name="name" required><br><br>

      <label for="email">Email (required):</label><br>
      <input type="email" id="email" name="email" required><br><br>

      <label for="phone">Phone (optional):</label><br>
      <input type="tel" id="phone" name="phone"><br><br>

      <label for="message">Message (required):</label><br>
      <textarea id="message" name="message" rows="4" required></textarea><br><br>

      <button type="submit">Submit</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 Company Name. All rights reserved.</p>
  </footer>
</body>
</html>
